<div
     class="card slate-card {{card.color || 'default'}}"
     data-ng-class="{active:cardDragging}"
     data-ng-show="card"
     data-ui-draggable="true"
     data-drag="card"
     data-drag-channel="card"
     data-drop-channel="card"
     data-on-drop-success="dropSuccessHandler($event)"
     data-ui-on-drop="combineThings($event, $data, card.id)">
     <div data-ng-show="(card.userCanWrite || !board.p_lock()) && !card.lockedByAnother">
         <div class="cardcontent"
             data-e-form="editform"
             data-ng-click="editorShow()"
             data-ng-hide="isEditorVisible()"
             data-editable-textarea="card.content"
             data-onshow="getCardLock()"
             data-onhide="endCardLock()"
             data-onbeforesave="checkCardContent($data, column.id, card.id)"
             data-ng-disabled="true">
             <pre data-ng-show="card.content && (card.userCanWrite || board.p_seeContent())">
{{card.content}}
            </pre>
            <pre data-ng-show="card.content && !card.userCanWrite && !board.p_seeContent()">
{{card.content | obfuscated}}
            </pre>
            <pre data-ng-show="!card.content">
Click to enter comments...
            </pre>
        </div>
        <div class="handle aside-right">
            <a href="#" data-ng-click="cardMenu = !cardMenu">
                <svg class="icon-standard">
                    <desc>Card menu toggle icon</desc>
                    <use xlink:href="#card-menu"></use>
                </svg>
            </a>
        </div>
        <div class="handle aside-left" title="{{card.votes | myVotes}}">
            <a href="#" data-ng-click="upvote(card, $event)">
                <svg class="icon-standard aside-left">
                    <desc>Card upvote icon</desc>
                    <use xlink:href="#vote"></use>
                </svg>
                <span ng-show="board.p_seeVotes()">
                    {{card.votes.length}}
                </span>
            </a>
        </div>
        <div class="card-menu" data-ng-show="cardMenu">
            <ul class="card-menu-items" role="menu">
                <li>
                    Card Color
                    <ul class="x-list" role="menu">
                        <li>
                            <a href="#" class="sea swatch" data-ng-click="color(card, 'sea')"></a>
                        </li>
                        <li>
                            <a href="#" class="brick swatch" data-ng-click="color(card, 'brick')"></a>
                        </li>
                        <li>
                            <a href="#" class="ice swatch" data-ng-click="color(card, 'ice')"></a>
                        </li>
                        <li>
                            <a href="#" class="default swatch" data-ng-click="color(card, 'default')"></a>
                        </li>
                    </ul>
                </li>
                <li>
                    Move Card To
                    <div data-ng-repeat="col in board.columns({withTrash: true, excludingId: card.column})">
                        <a class="pointer" role="menuitem" tabindex="1" data-ng-click="moveTo(col, card)" href="#">
                            {{col.title}}
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div data-ng-show="!card.userCanWrite && board.p_lock() && !card.lockedByAnother">
        <div class="cardcontent">
            <pre data-ng-show="card.content && (card.userCanWrite || board.p_seeContent())">
{{card.content}}
            </pre>
            <pre data-ng-show="card.content && !card.userCanWrite && !board.p_seeContent()">
{{card.content | obfuscated}}
            </pre>
            <pre data-ng-show="!card.content">
Empty
            </pre>
        </div>
    </div>
    <div class="card-locked" data-ng-show="card.lockedByAnother">
        <svg class="icon-standard">
            <desc>Card is locked loading icon</desc>
            <use xlink:href="#loading"></use>
        </svg>
    </div>
</div>
